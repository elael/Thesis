\subsection{Convenção de Denavit-Hartenberg}

O método de Denavit-Hartenberg (DH) constitui um procedimento sistemático para a obtenção da cinemática direta de manipuladores. Como foi visto, o objetivo é resolver o problema de forma recursiva, analisando a relação de um elo com o anterior e, através de uma composição dessas relações, estabelecer a cinemática de toda a estrutura. Por analisar a relação de um elo com o anterior entende-se definir a posição e orientação relativas entre sistemas de coordenadas fixados em cada elo. As convenções de DH, {\it standard} e modificada, buscam, portanto, estabelecer algumas regras para definir como tais sistemas de coordenadas serão posicionados nos elos. Neste trabalho, apenas a convenção padrão, ou {\it standard}, será abordada. O procedimento pode então ser enunciado:
%
\begin{enumerate}
\item O eixo ${\bf z}_i$ corresponderá ao eixo da junta $i+1$.
\item A origem ${\bf O}_i$ deve ser estabelecida onde a normal comum entre ${\bf z}_i$ e ${\bf z}_{i-1}$ intercepta ${\bf z}_i$: 
(i) Caso ${\bf z}_i$ e ${\bf z}_{i-1}$ se interceptem, a origem ${\bf O}_i$ é posicionada na interseção; \\
(ii)Caso ${\bf z}_i$ e ${\bf z}_{i-1}$ sejam paralelos, a origem ${\bf O}_i$ é posicionada na junta i.
\item O eixo ${\bf x}_i$ é definido ao longo da normal comum a ${\bf z}_{i-1}$ e ${\bf z}_i$, com direção da junta $i$ para a junta $i+1$. 
Caso ${\bf z}_i$ e ${\bf z}_{i-1}$ se interceptem. O eixo ${\bf x}_i$ é normal ao plano definido por ${\bf z}_i$ e ${\bf z}_{i-1}$.
\item O eixo ${\bf y}_i$ é escolhido para completar o sistema de coordenadas satisfazendo, a regra da mão direita.
\end{enumerate}
%
O procedimento é realizado para as primeiras $n-1$ juntas do manipulador. O sistema de coordenadas 0 pode ser convenientemente escolhido e o sistema de coordenadas do efetuador pode ser escolhido como na Figura \ref{fig::descr}. Tipicamente a n-ésima junta é rotacional e o eixo ${\bf z}_n$ estará na mesma direção de ${\bf z}_{n-1}$. Os parâmetros abaixo permitem determinar a posição e orientação do sistema de coordenadas $i$ em relação ao sistema de coordenadas $i-1$, sendo comumente organizados em uma tabela.
%
\begin{itemize}
	\item $a_i$ : distância entre ${\bf z}_{i-1}$ e ${\bf z}_{i}$ ao longo de ${\bf x}_{i}$.
	\item $\alpha_i$ : ângulo entre ${\bf z}_{i-1}$ e ${\bf z}_{i}$ ao redor de ${\bf x}_{i}$.
	\item $d_i$ : distância entre ${\bf x}_{i-1}$ e ${\bf x}_{i}$ ao longo de ${\bf z}_{i-1}$.
	\item $\theta_i$ : ângulo entre ${\bf x}_{i-1}$ e ${\bf x}_{i}$ ao redor de ${\bf z}_{i-1}$.
\end{itemize}
%
A orientação do sistema de coordenadas $i$ com relação ao sistema $i-1$ é dada pela matriz ${\bf R}_{i-1,i}$. A convenção DH estabelece que esta rotação seja calculada a partir de duas rotações elementares.
%
\begin{equation}
\label{eq::rotdh}
{\bf R}_{i-1,i} = {\bf R}_z(\theta_i)\, {\bf R}_x(\alpha_i) = \left[\begin{matrix}
							c\theta_i & -s\theta_i\,c\alpha_i & s\theta_i\,s\alpha_i \\
							s\theta_i & c\theta_i\,c\alpha_i & -c\theta_i\,s\alpha_i \\
							0 & s\alpha_i & c\alpha_i \\
							\end{matrix}\right].
\end{equation}
%
A posição, por sua vez, é dada por
%
\begin{equation}
\label{eq::transdh}
{\bf L}_{i-1,i} = d_i\,{\bf z}_{i-1} + a_i\,{\bf x}_{i}.
\end{equation}
%
Com o intuito de construir a matriz de transformação homogênea ${\bf T}_{i-1,i}$ torna-se necessária a representação de tal translação no sistema $i-1$ (ver equação \ref{eq::thomo}). 
% d_i({\bf z}_{i-1})_{i-1} + a_i ({\bf x}_{i})_{i-1} =
\begin{equation}
\label{eq::translat}
({\bf L}_{i-1,i})_{i-1} = d_i \,\left[\begin{matrix}
							0\\
							0\\
							1\\ 
							\end{matrix}\right] + a_i\,{\bf R}_{i-1,i}\,\left[\begin{matrix}
							1\\
							0\\
							0\\ 
							\end{matrix}\right] = 		
							\left[\begin{matrix}
							a_ic\theta_i\\
							a_is\theta_i\\
							d_i\\ 
							\end{matrix}\right].										
\end{equation}
%
A transformação homogênea ${\bf T}_{i-1,i}$ é obtida a partir de (\ref{eq::rotdh}) e (\ref{eq::translat}), possibilitando a obtenção da função de cinemática direta da cadeia completa, isto é,
%
\begin{equation}
\label{eq::rotetrans}
{\bf T}_{i-1,i} = \left[\begin{matrix}
							c\theta_i & -s\theta_i\,c\alpha_i & s\theta_i\,s\alpha_i & a_ic\theta_i\\
							s\theta_i & c\theta_i\,c\alpha_i & -c\theta_i\,s\alpha_i & a_is\theta_i\\
							0 & s\alpha_i & c\alpha_i & d_i\\ 
							0 & 0 & 0 & 1 \\
							\end{matrix}\right].
\end{equation}

\subsection{Espaço das Juntas e espaço operacional}

A equação de cinemática direta de um determinado manipulador permite expressar a posição e orientação do sistema de coordenadas do efetuador relativas ao sistema de coordenadas da base como função das variáveis das juntas. Quando uma tarefa é especificada para o efetuador, é necessário associar a posição e orientação do efetuador, eventualmente como uma função do tempo. Para a posição, isto se torna simples e a trajetória desejada é facilmente expressa como função do tempo. Porém, para o caso da orientação, existe uma grande dificuldade em especificar 9 elementos de uma matriz e garantir que suas colunas satisfaçam as condições de ortonormalidade a cada instante de tempo. A solução natural para este problema consiste na utilização de representações mínimas para a orientação: ângulos de Euler ou ângulo e eixo \cite{sci}. Portanto, a posição é dada por um número mínimo de coordenadas em respeito a geometria da estrutura e a orientação pode ser especificada em termos de representações mínimas que descrevem a rotação do sistema de coordenadas do efetuador relativa ao sistema de coordenadas da base. Desta forma, torna-se possível descrever a postura do efetuador por 
%
\begin{equation}
{\bf x}_e = \left[\begin{matrix}
							{\bf p}_e \\
							{\boldsymbol \phi}_e \\
							\end{matrix}\right] \in {\mathbb R}^m\,,\; m \leq n,
\end{equation}
%
\noindent onde ${\bf p}_e$ descreve a posição do efetuador e ${\boldsymbol \phi}_e$ sua orientação. A orientação pode também ser especificada através de uma representação adequada, como quaternions unitários.

Esta representação de posição e orientação permite a descrição da tarefa designada ao efetuador, em termos de um número de parâmetros independentes. O vetor ${\bf x}_e$ é definido no espaço onde a tarefa do manipulador é especificada, isto é, no espaço de operação do robô. Por isso, este espaço é tipicamente chamado {\it espaço operacional} ({\bf O}). Por outro lado, o espaço de configuração onde o vetor ${\bf q} \in {\mathbb R}^n$ é definido é chamado {\it espaço das juntas} ({\bf Q}). A cinemática direta pode ser escrita, de forma alternativa a (\ref{eq::cinedi}), como:
%
\begin{equation}
\label{eq::cinedire}
{\bf x}_e = {\bf K}({\bf q}),
\end{equation}
%
\noindent onde a postura (posição e orientação) do efetuador é uma função das variáveis das juntas, geralmente não linear. No que se segue, variáveis de juntas de revolução serão designadas por $\theta_i$ e variáveis de juntas prismáticas por $d_i$.

