\chapter{\label{ap::zebra}Zebra-ZERO}

O manipulador Zebra-ZERO (Figura \ref{figap::zebra}) é um manipulador antropomórfico com punho esférico, composto portanto por seis juntas de revolução. A atuação é realizada por seis motores DC {\it Pittman} e a leitura dos ângulos das juntas é realizada por encoders incrementais HEDS-5500 ({\it Hewlett Packard}). A acessibilidade a um exemplar deste manipulador e, portanto, uma possível aplicação prática justificam a utilização de suas dimensões para simulações, assim como o desenvolvimento de um modelo tridimensional próprio. No que se segue, são apresentadas as equações de cinemática direta para este manipulador e o ambiente de realidade virtual desenvolvido em {\it Simulink}.

\begin{figure}[!htb]
\centering
\includegraphics[scale=0.39]{fig/ap_zebra/zebrinhaeps.eps}
\caption{Manipulador Zebra-ZERO.}
\label{figap::zebra}
\end{figure}

\section{Cinemática direta}

Os parâmetros Denavit-Hartenberg (DH) do manipulador em questão são apresentados na tabela \ref{tabeladh}.

\def\tablename{Tabela}
\begin{table}[!htb]
\centering
\begin{tabular}{lrrrr} \hline
$i$   &	 $a_i$ (mm)	& $\alpha_i$ (rad)     &  $d_i$ (mm)& $q_i$ (rad) \\ \hline \hline
1   &   0   & $\frac{\pi}{2}$ &   0  & $q_1$  \\
2   &   279.4   & 0 &   0  & $q_2$  \\
3   &   0   & $-\frac{\pi}{2}$ &   0  & $q_3$  \\
4   &   0   & $\frac{\pi}{2}$ &   228.6  & $q_4$  \\
5   &   0   & $-\frac{\pi}{2}$ &   0  & $q_5$  \\
6   &   0   & 0 &   165  & $q_6$ \\\hline
\end{tabular}
\caption{Parâmetros Denavit-Hartenberg standard}
\label{tabeladh}
\end{table}

\noindent A matriz de rotação ${\bf R}_{0e}$ é obtida de forma trivial e recursiva a partir de
%
\begin{equation}
\label{recapend1}
{\bf R}_{0e} = {\bf R}_{01}\,{\bf R}_{12}\;\mbox{...}\;{\bf R}_{56},
\end{equation}
%
onde ${\bf R}_{i-1,i}$ é dada por
%
\begin{equation}
\label{rotdh}
{\bf R}_{i-1,i} = {\bf R}_z(q_i)\, {\bf R}_x(\alpha_i). % = %\left[\begin{matrix}
						%	c\theta_i & -s\theta_i\,c\alpha_i & s\theta_i\,s\alpha_i \\
							%s\theta_i & c\theta_i\,c\alpha_i & -c\theta_i\,s\alpha_i \\
						%	0 & s\alpha_i & c\alpha_i \\
						%	\end{matrix}\right].
\end{equation}
%
Desta forma,
%
\begin{equation}
({\bf n}_e)_0 = \left[\begin{matrix}
							c_1(c_{23}(c_4c_5c_6 - s_4s_6) - s_{23}s_5c_6) - s_1(s_4c_5c_6 + c_4s_6)\\
							s_1(c_{23}(c_4c_5c_6 - s_4s_6) - s_{23}s_5c_6) + c_1(s_4c_5c_6 + c_4s_6)\\
							s_{23}(c_4c_5c_6 - s_4s_6) + c_{23}s_5c_6\\
							\end{matrix}\right],
\end{equation}
%
\begin{equation}
({\bf s}_e)_0 = \left[\begin{matrix}
							c_1(-c_{23}(c_4c_5s_6 + s_4c_6) + s_{23}s_5s_6) + s_1(s_4c_5s_6 - c_4c_6)\\
							s_1(-c_{23}(c_4c_5s_6 + s_4c_6) + s_{23}s_5s_6) - c_1(s_4c_5s_6 - c_4c_6)\\
							-s_{23}(c_4c_5s_6 + s_4c_6) - c_{23}s_5s_6\\
							\end{matrix}\right],
\end{equation}
%
\begin{equation}
\label{eqap::approach}
({\bf a}_e)_0 = \left[\begin{matrix}
							-c_1(c_{23}c_4s_5 + s_{23}c_5) + s_1s_4s_5\\
							-s_1(c_{23}c_4s_5 + s_{23}c_5) - c_1s_4s_5\\
							-s_{23}c_4s_5 + c_{23}c_5\\
							\end{matrix}\right].
\end{equation}
%
A posição do punho pode ser obtida pela análise geométrica da estrutura mecânica. Assim,
%
\begin{equation}
\label{eqap::pwrist}
({\bf p}_w)_0 = \left[\begin{matrix}
							l_1c_1c_2 - l_2c_1s_{23}\\
							l_1s_1c_2 - l_2s_1s_{23}\\
							l_1s_2 + l_2c_{23}\\
							\end{matrix}\right].
\end{equation}
%
A posição do efetuador, obtida a partir de (\ref{eqap::approach}) e (\ref{eqap::pwrist}), é dada por
%
\begin{equation}
({\bf p}_e)_0 = ({\bf p}_w)_0 + l_e ({\bf a}_e)_0.
\end{equation}

\section{Modelo 3D}

O modelo 3D desenvolvido tem como principal objetivo a visualização em tempo real do movimento da estrutura mecânica. Desta forma, alguns aspectos geralmente despercebidos em resultados gráficos podem ser avaliados. Por exemplo, pode-se notar se o braço está quase totalmente esticado, apresentando pouca manipulabilidade. O desenvolvimento do modelo tridimensional é realizado através de duas funções básicas: `patch' e `makehgtform'. A função `patch' recebe como argumentos as coordenadas dos vértices e vetores contendo os índices dos vértices pertencentes à cada face. Já a função `makehgtform' é utilizada para manipulação das figuras geométricas criadas pelas função `patch', recebendo argumentos referentes à rotação e ao deslocamento. A construção do modelo preciso do manipulador se inicia com a modelagem individual das peças que o constituem, havendo entre elas relações do tipo {\it pai/filho}. Ao fim do processo, o modelo de realidade virtual receberá como argumentos os ângulos das juntas, mostrando em tempo real a configuração da estrutura mecânica. Outras formas de utilização são possíveis, como {\it joystick}, e a utilização do renderizador {\it OpenGL} torna o desempenho extremamente satisfatório, com atrasos imperceptíveis. A Figura \ref{figap::zebra_pieces} apresenta o modelo final e a trajetória efetuada (\nameref{trajze4}).

\begin{figure}[!htb]
\centering
\begin{tabular}{cccc}
%\includegraphics[trim = 2.8cm 0cm 2.8cm 0cm, clip=true, scale = 0.36]{fig/ap_zebra/base_rot.eps}&
%\includegraphics[trim = 2.8cm 0cm 2.8cm 0cm, clip=true, scale = 0.36]{fig/ap_zebra/shoulder.eps}&
%\includegraphics[trim = 2.8cm 0cm 2.8cm 0cm, clip=true, scale = 0.36]{fig/ap_zebra/arm.eps}&
%\includegraphics[trim = 3cm 0cm 2.3cm 0cm, clip=true, scale = 0.36]{fig/ap_zebra/efec.eps}\\
\includegraphics[trim = 9.4cm 0.5cm 9cm 0.6cm, scale= 0.65]{fig/ap_zebra/all.eps}\\
\end{tabular}
\caption{Modelo 3D para Simulink.}
\label{figap::zebra_pieces}
\end{figure} 